<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://java.sun.com/jsf/core">
    
    <h:head>
        <title>OP | PROPOSTA DE PARTICIPACAO</title>
        
        <link href="resources/css/abrantes360.css" rel="stylesheet" type="text/css"/>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css" />
        <link href='https://fonts.googleapis.com/css?family=Roboto' rel='stylesheet' type='text/css' />
        <link href="resources/plugs/jquery.mCustomScrollbar.css" rel="stylesheet" type="text/css"/>

        <script src="http://maps.google.com/maps/api/js?sensor=false" type="text/javascript" ></script>
        
        <style type="text/css">
            @-moz-document url-prefix() {
                .layoutUnitCenterFix {
                    padding-right: 0px !important;
                }
            }
        </style>

        <h:outputScript library="primefaces" name="jquery/jquery.js" />
        <script src="resources/plugs/jquery.mCustomScrollbar.min.js" type="text/javascript"></script>

        <script>
        
       (function($){
        $(window).load(function(){
          $(".ui-layout-unit-content").mCustomScrollbar({    
          });
        });
        })(jQuery);
        </script>
        
    </h:head>
    
    <h:body>
        
        <p:layout fullPage="true" styleClass="resetbackBorder">

            <p:layoutUnit styleClass="resetbackBorder" position="north" size="100" resizable="false" closable="false" collapsible="false">
                <center>
                <h2 style="color: #000000">Orçamento Participativo – Apresentação de Propostas</h2>
                <h3 style="color: #000000">Formulário de Proposta</h3>
                </center>
            </p:layoutUnit>

            <p:layoutUnit styleClass="menuLeft scroolMePortal" position="west" size="300" header="Dados internos" closable="false" collapsible="true">
                <h:outputText value="User: #{mySessionBean.user}" /><br/>
                <h:outputText value="PID: #{mySessionBean.pid}" />
            </p:layoutUnit>

            <p:layoutUnit styleClass="menuRight scroolMePortal" position="east" size="200" header="Outras ações" resizable="true" closable="false" collapsible="true" effect="drop" minSize="200">
                <h:outputText value="Brevemente." />
            </p:layoutUnit>

            <p:layoutUnit position="center" styleClass="resetbackBorder layoutUnitCenterFix" resizable="true" >
                
                <center>
                <h:form id="myform">

                    <p:growl id="messages" showDetail="true" autoUpdate="true" life="10000" sticky="true"/>

                    <p:confirmDialog global="true" showEffect="fade" hideEffect="fade">
                        <p:commandButton value="Sim" type="button" styleClass="ui-confirmdialog-yes" icon="ui-icon-check" />
                        <p:commandButton value="Não" type="button" styleClass="ui-confirmdialog-no" icon="ui-icon-close" />
                    </p:confirmDialog>

                            <br/>
                            <p:panelGrid style="width:80%">
                                <p:row>
                                    <p:column style="width:150px;">Montante máximo:</p:column>
                                    <p:column><p:inputText value="266.000€" readonly="true" /></p:column>
                                    <p:column style="width:150px;">Área de investimento:</p:column>
                                    <p:column style="width:60%;">
                                        <p:selectOneMenu value="#{oPPPBean.opPP.areaInvestimento}">
                                            <f:selectItem itemLabel="Ação Social e Habitação" itemValue="Ação Social e Habitação" />
                                            <f:selectItem itemLabel="Cultura" itemValue="Cultura" />
                                            <f:selectItem itemLabel="Educação e Juventude" itemValue="Educação e Juventude" />
                                            <f:selectItem itemLabel="Desporto" itemValue="Desporto" />
                                            <f:selectItem itemLabel="Espaço Público e Espaços Verde" itemValue="Espaço Público e Espaços Verde" />
                                            <f:selectItem itemLabel="Infra-estruturas Viárias" itemValue="Infra-estruturas Viárias" />
                                            <f:selectItem itemLabel="Modernização Administrativa" itemValue="Modernização Administrativa" />
                                            <f:selectItem itemLabel="Proteção Ambiental e Energia" itemValue="Proteção Ambiental e Energia" />
                                            <f:selectItem itemLabel="Urbanismo, Reabilitação e Requalificação Urbana" itemValue="Urbanismo, Reabilitação e Requalificação Urbana" />
                                            <f:selectItem itemLabel="Higiene Urbana" itemValue="Higiene Urbana" />
                                            <f:selectItem itemLabel="Segurança e Proteção Civil" itemValue="Segurança e Proteção Civil" />
                                            <f:selectItem itemLabel="Turismo, Comércio e Desenvolvimento Económico" itemValue="Turismo, Comércio e Desenvolvimento Económico" />
                                        </p:selectOneMenu>
                                    </p:column>
                                </p:row>
                            </p:panelGrid>

                            <br/><br/>

                            <p:panelGrid style="width:80%">
                                <p:row>
                                    <p:column style="width:150px;">Nome/Designação:</p:column>
                                    <p:column style="width:60%;"><p:inputText style="width:98.0%" value="#{oPPPBean.opPP.ent.nome}#{oPPPBean.opPP.ent.designacao}" readonly="true" /></p:column>
                                    <p:column style="width:50px;">NIF:</p:column>
                                    <p:column><p:inputText style="width:94.0%" value="#{oPPPBean.opPP.ent.nif}" readonly="true" /></p:column>
                                </p:row>
                            </p:panelGrid>

                            <p:panelGrid style="width:80%">
                                <p:row>
                                    <p:column style="width:150px;">BI/CC:</p:column>
                                    <p:column style="width:40%;"><p:inputText style="width:98.0%" value="#{oPPPBean.opPP.ent.numeroIdentificacao}" readonly="true" /></p:column>
                                    <p:column style="width:150px;">Data nascimento:</p:column>
                                    <p:column><p:calendar style="width:96.0%" value="#{oPPPBean.opPP.ent.dataNascimento}" readonly="true" pattern="dd-MM-yyyy" /></p:column>
                                </p:row>
                            </p:panelGrid>

                            <p:panelGrid style="width:80%">
                                <p:row>
                                    <p:column style="width:150px;">Morada:</p:column>
                                    <p:column><p:inputText style="width:98.5%" value="#{oPPPBean.opPP.ent.moradaPrincipalStr}" readonly="true" /></p:column>
                                </p:row>
                            </p:panelGrid>

                            <!--
                            <p:panelGrid style="width:80%">
                                <p:row>
                                    <p:column style="width:150px;">Profissão:</p:column>
                                    <p:column style="width:40%;"><p:inputText style="width:98.0%" value="{oPPPBean.opPP.ent.profissao}" readonly="true" /></p:column>
                                    <p:column style="width:150px;">Habilitações literárias:</p:column>
                                    <p:column><p:inputText style="width:96.0%" value="{oPPPBean.opPP.ent.nivelEscolaridade}" readonly="true" /></p:column>
                                </p:row>
                            </p:panelGrid>
                            -->

                            <p:panelGrid style="width:80%">
                                <p:row>
                                    <p:column style="width:150px;">Contactos:</p:column>
                                    <p:column><p:inputText style="width:98.5%" value="#{oPPPBean.opPP.ent.contactosTxt}" readonly="true" /></p:column>
                                </p:row>
                            </p:panelGrid>
                            <br/>
                            <p:panelGrid style="width:80%">
                                <p:row>
                                    <p:column style="width:150px;">Relação com o concelho de Abrantes:</p:column>
                                </p:row>
                                <p:row>
                                    <p:column style="font-size: x-small">
                                        <p:inputText value="#{oPPPBean.opPP.relacaoConcelho}" style="font-size: x-small!important; width: 99%"  readonly="true" />
                                    </p:column>
                                </p:row>
                            </p:panelGrid>
                            <br/>
                            <p:panelGrid style="width:80%">
                                <p:row>
                                    <p:column style="width:150px;">Forma de participação:</p:column>
                                </p:row>
                                <p:row>
                                    <p:column style="font-size: x-small">
                                        <p:inputText value="#{oPPPBean.opPP.formaParticipacao}" style="font-size: x-small!important; width: 99%"  readonly="true" />
                                    </p:column>
                                </p:row>
                                <p:row>
                                    <p:column style="font-size: x-small">
                                        Nome da associação ou instituição se introduzido <p:inputText value="#{oPPPBean.opPP.nomeAssociacao}" style="width: 99%" readonly="true" />
                                    </p:column>
                                </p:row>
                            </p:panelGrid>

                            <br/>
                            <p:panelGrid style="width:80%">
                                <p:row>
                                    <p:column>Proposta</p:column>
                                </p:row>
                                <p:row>
                                    <p:column>
                                        <p:inputTextarea value="#{oPPPBean.opPP.proposta}" style="width: 99%" rows="10" />
                                    </p:column>
                                </p:row>
                            </p:panelGrid>

                            <br/>
                            <p:panelGrid style="width:80%">
                                <p:row>
                                    <p:column>Localização</p:column>
                                </p:row>
                                <p:row>
                                    <p:column>
                                        <p:gmap id="gmap" center="39.462972,-8.197941" zoom="13" type="HYBRID" style="width:100%;height:400px"
                                                model="#{oPPPBean.emptyModel}" widgetVar="map" />
                                    </p:column>
                                </p:row>
                            </p:panelGrid>

                            <br/>
                            <p:panelGrid style="width:80%">
                                <p:row>
                                    <p:column>Valor estimado</p:column>
                                </p:row>
                                <p:row>
                                    <p:column>
                                        <p:inputText value="#{oPPPBean.opPP.valorEstimado}" style="width: 99%" readonly="true" />
                                    </p:column>
                                </p:row>
                            </p:panelGrid>
                            
                            <br/><br/><br/>

                    </h:form>
                
                </center>
                
            </p:layoutUnit>

        </p:layout>
        
        
        <script type="text/javascript">
            
            var currentMarker = null;
 
            function togglePoint(lat, lng) {
                    
                if(currentMarker === null) {
                    currentMarker = new google.maps.Marker({
                        position:new google.maps.LatLng(lat, lng)
                    });
                    PF('map').addOverlay(currentMarker);
                }   
            }
 
        </script>
        
    </h:body>

</html>

